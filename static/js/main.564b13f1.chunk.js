(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{116:function(e,a,t){},117:function(e,a,t){},213:function(e,a,t){"use strict";t.r(a);var n=t(0),i=t.n(n),s=t(22),c=t.n(s),o=(t(116),t(68)),r=t.n(o),d=t(94),l=t(108),_=t(107),u=(t(117),t(95)),p=t.n(u),v=(t(69),t(216)),y=(t(138),t(24)),b=function(e){var a;console.log("props.data_storage",e.data_storage);var t=null===(a=e.data_storage)||void 0===a?void 0:a.map((function(e){return{key:e.centre_details.sessions[e.session_array_index].session_id,centre_name:e.centre_details.name,address:e.centre_details.address,vaccine:e.centre_details.sessions[e.session_array_index].vaccine,date:e.centre_details.sessions[e.session_array_index].date,availability_dose_1:e.centre_details.sessions[e.session_array_index].available_capacity_dose1,availability_dose_2:e.centre_details.sessions[e.session_array_index].available_capacity_dose2}}));return Object(y.jsxs)("div",{children:[Object(y.jsx)(v.a,{dataSource:t,columns:[{title:"Centre Name",dataIndex:"centre_name",key:"centre_name"},{title:"Address",dataIndex:"address",key:"address"},{title:"Vaccine",dataIndex:"vaccine",key:"vaccine"},{title:"Date",dataIndex:"date",key:"date"},{title:"availability dose 1",dataIndex:"availability_dose_1",key:"availability_dose_1"},{title:"availability dose 2",dataIndex:"availability_dose_2",key:"availability_dose_2"}]}),";"]})};var g=function(){var e=Object(n.useState)([]),a=Object(_.a)(e,2),t=a[0],i=a[1],s=[];Object(n.useEffect)((function(){o()}),[]);var c=function(e){if(e){var a,n=e.centers;for(a=0;a<n.length;a++){var c,o=n[a];for(c=0;c<o.sessions.length;c++){var r=o.sessions[c];45===r.min_age_limit&&"COVAXIN"===r.vaccine&&r.available_capacity_dose2>0&&!s.includes(r.session_id)&&(i((function(e){return[].concat(Object(l.a)(e),[{centre_details:o,session_array_index:c}])})),console.log("dataStorage after pushing",t),s.push(r.session_id))}}}},o=function(){var e=Object(d.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://cdn-api.co-vin.in/api/v2/appointment/sessions/public/calendarByDistrict?district_id=596&date=25-05-2021",p.a.get("https://cdn-api.co-vin.in/api/v2/appointment/sessions/public/calendarByDistrict?district_id=596&date=25-05-2021").then((function(e){console.log("in then"),console.log("response.data",e.data),c(e.data)})).catch((function(){console.log(console)})),console.log("calling api again"),e.next=5,setTimeout(o,1e4);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(y.jsxs)("div",{className:"App",children:[Object(y.jsx)("div",{className:"heading",children:"Soumith's Vaccination Alert Pushing Dashboard"}),Object(y.jsx)(b,{data_storage:t})]})},f=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,217)).then((function(a){var t=a.getCLS,n=a.getFID,i=a.getFCP,s=a.getLCP,c=a.getTTFB;t(e),n(e),i(e),s(e),c(e)}))};c.a.render(Object(y.jsx)(i.a.StrictMode,{children:Object(y.jsx)(g,{})}),document.getElementById("root")),f()}},[[213,1,2]]]);
//# sourceMappingURL=main.564b13f1.chunk.js.map