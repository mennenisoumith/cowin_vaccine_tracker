{"version":3,"sources":["CustomTable.js","App.js","reportWebVitals.js","index.js"],"names":["CustomTable","props","console","log","data_storage","dataSource","map","el","key","centre_details","sessions","session_array_index","session_id","centre_name","name","address","vaccine","date","availability_dose_1","available_capacity_dose1","availability_dose_2","available_capacity_dose2","columns","title","dataIndex","App","useState","dataStorage","setDataStorage","session_id_storage","useEffect","timerCallingFunction","sendMail","individual_centre","templateParams1","from_name","to_name","subject","message","templateParams3","emailjs","axios","get","then","response","data","responseData","i","arrayData","centers","length","j","pre_session","min_age_limit","includes","push","alert","extractMedchalData","catch","setTimeout","className","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e016e4fb.chunk.js","sourcesContent":["import React from 'react';\nimport { Table} from 'antd';\nimport 'antd/dist/antd.css';\nconst CustomTable = (props) => {\n// var dataSource ;\n//     useEffect(() => {\n    console.log('props.data_storage',props.data_storage);\n    const  dataSource = props.data_storage?.map(\n           (el) =>  {\n               return {\n                key:el.centre_details.sessions[el.session_array_index].session_id,\n                centre_name:el.centre_details.name,\n                address:el.centre_details.address,\n                vaccine:el.centre_details.sessions[el.session_array_index].vaccine,\n                date:el.centre_details.sessions[el.session_array_index].date,\n                availability_dose_1:el.centre_details.sessions[el.session_array_index].available_capacity_dose1,\n                availability_dose_2:el.centre_details.sessions[el.session_array_index].available_capacity_dose2,\n               }\n               \n           }\n       );\n    // },[]);\n    const columns = [\n        {\n          title: 'Centre Name',\n          dataIndex: 'centre_name',\n          key: 'centre_name',\n        },\n        {\n          title: 'Address',\n          dataIndex: 'address',\n          key: 'address',\n        },\n        {\n          title: 'Vaccine',\n          dataIndex: 'vaccine',\n          key: 'vaccine',\n        },\n        {\n          title: 'Date',\n          dataIndex: 'date',\n          key: 'date',\n        },\n        {\n          title: 'availability dose 1',\n          dataIndex: 'availability_dose_1',\n          key: 'availability_dose_1',\n        },\n        {\n          title: 'availability dose 2',\n          dataIndex: 'availability_dose_2',\n          key: 'availability_dose_2',\n        },\n      ];\n    \n    return (\n        <div>\n            <Table dataSource={dataSource} columns={columns} />;\n        </div>\n    );\n};\n\nexport default CustomTable;","\nimport './App.css';\nimport React , {useEffect, useState} from 'react';\nimport axios from 'axios';\nimport * as emailjs from 'emailjs-com';\nimport CustomTable from './CustomTable';\n\nfunction App() {\n  const [dataStorage, setDataStorage] = useState([]);\n  // const [session_id_storage, setsession_id_storage] = useState([]);\n  // let data_storage = [];\n  let session_id_storage = [];\n  useEffect(() => {\n    console.log(\"in useeffect\");\n     // eslint-disable-next-line no-unused-expressions\n  timerCallingFunction();\n    \n  },[]);\n\n\n  const extractMedchalData = (responseData) => {\n    if(responseData){\n      // console.log('in useeffect of responseData dependency')\n      const arrayData=responseData.centers;\n      var i;\n        for(i=0;i<arrayData.length;i++){\n          var individual_centre = arrayData[i];\n          var j;\n          for(j=0;j<individual_centre.sessions.length;j++){\n            var pre_session =individual_centre.sessions[j];\n            // console.log(\"pre_session\",pre_session)\n            if(pre_session.min_age_limit === 45 && pre_session.vaccine === \"COVISHIELD\"){\n              if(pre_session.available_capacity_dose2 >0 && !session_id_storage.includes(pre_session.session_id) ){\n                console.log('individual centre obj struc',individual_centre);\n                // eslint-disable-next-line no-loop-func\n                setDataStorage(dataStorage =>{\n                  return [...dataStorage,{\n                    centre_details:individual_centre,\n                    session_array_index:j,\n                  }]\n                });\n                session_id_storage.push(pre_session.session_id);\n                 sendMail(individual_centre);\n                 alert(`found centre ${individual_centre.name}`)\n              }\n            }\n          }\n          \n        }\n\n    }\n  }\n\n  const sendMail = (individual_centre) => {\n    console.log('in sendMail');\n      let templateParams1 = {\n            from_name: \"saisoumith1818@gmail.com\",\n            to_name:\"saisoumith1818@gmail.com\",\n            subject: \"COVID VACCINATION\",\n            message: `Hi vaccination opened for centre with name ${individual_centre.name}`,\n          }\n          // let templateParams2 = {\n          //   from_name: \"saisoumith1818@gmail.com\",\n          //   to_name:\"sahithirao163@gmail.com\",\n          //   subject: \"COVID VACCINATION\",\n          //   message: `Hi vaccination opened for centre with name  ${presentCentreDetails.name}`,\n          // }\n          let templateParams3 = {\n            from_name: \"saisoumith1818@gmail.com\",\n            to_name:\"bbhavana16@gmail.com\",\n            subject: \"COVID VACCINATION\",\n            message: `Hi vaccination opened for centre with name  ${individual_centre.name}`,\n          }\n          \n          emailjs.send(\n            'service_fzf7a84',\n            'template_2x34oci',\n            templateParams1,\n            'user_tsNRFZzd0abE658TBfDyY',\n            \n          )\n          emailjs.send(\n            'service_fzf7a84',\n            'template_2x34oci',\n            templateParams3,\n            'user_tsNRFZzd0abE658TBfDyY',\n            \n          )\n  }\n\n\n  const timerCallingFunction =  () => {\n    // const apiUrl =\"https://cdn-api.co-vin.in/api/v2/appointment/sessions/public/findByDistrict?district_id=294&date=24-05-2021\"\n    // const apiNizamabad=\"https://cdn-api.co-vin.in/api/v2/appointment/sessions/public/calendarByDistrict?district_id=600&date=26-05-2021\";\n    // const apiMedchal =\"https://cdn-api.co-vin.in/api/v2/appointment/sessions/public/calendarByDistrict?district_id=596&date=26-05-2021\";\n    const apiHyderabad = \"https://cdn-api.co-vin.in/api/v2/appointment/sessions/public/calendarByDistrict?district_id=581&date=27-05-2021\"\n    axios\n    .get(apiHyderabad)\n    .then((response) => {\n      // setResponseData(response.data.sessions);\n      // extractData(response.data.sessions);\n      console.log(\"in then\")\n      console.log(\"response.data\",response.data);\n      extractMedchalData(response.data);\n    })\n    .catch(() => {\n      console.log(console);\n\n    });\n    console.log('calling api again')\n   setTimeout(timerCallingFunction, 10000);\n  }\n\n  return (\n    <div className=\"App\">\n      <div className=\"heading\">Soumith's Vaccination Alert Pushing Dashboard</div>\n       <CustomTable  data_storage={dataStorage} />\n    </div>\n  );\n}\n\nexport default App;\n\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}